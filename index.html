<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inked by Chris - Tattoo Artist</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon.svg">
    
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    
    <!-- EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        (function() {
            emailjs.init("nqLDVniO3BUlQ-e1n");
        })();
    </script>
    
    <meta property="og:url" content="https://inkedbychris.netlify.app">
    <meta property="og:title" content="Inked by Chris - Professional Tattoo Artist">
    <meta property="og:description" content="Professional tattoo services by Chris. Book your appointment today for custom tattoos, cover-ups, and more.">
</head>
<body>
    <div class="cursor"></div>
    <header>
        <nav class="navbar">
            <a href="index.html" class="logo">INKED BY CHRIS</a>
            <div class="nav-content">
                <div class="payment-methods-header">
                    <div class="payment-method" title="Cash">
                        <i class="fa-solid fa-money-bills"></i>
                        <span class="payment-label">Cash</span>
                    </div>
                    <div class="payment-method" title="Zelle">
                        <i class="fa-solid fa-circle-dollar-to-slot"></i>
                        <span class="payment-label">Zelle</span>
                    </div>
                    <div class="payment-method" title="PayPal">
                        <i class="fa-brands fa-paypal"></i>
                        <span class="payment-label">PayPal</span>
                    </div>
                </div>
                <ul class="nav-links">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#gallery">Gallery</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#book">Book</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main>
        <section id="home" class="hero">
            <div class="hero-overlay"></div>
            <div class="ink-bg"></div>
            <div class="container">
                <div class="hero-content">
                    <div class="pen-icon">
                        <i class="fas fa-pen-fancy"></i>
                    </div>
                    <h1 class="hero-title">INKED BY CHRIS</h1>
                    <p class="hero-subtitle">CRAFTING YOUR VISION</p>
                    <div class="hero-description">
                        <p>Custom Designs | Artistic Excellence | Timeless Ink</p>
                    </div>
                    <div class="hero-cta">
                        <a href="#book" class="cta-button">
                            <span>START YOUR JOURNEY</span>
                            <i class="fas fa-pen-nib"></i>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <section id="about" class="about">
            <div class="container">
                <h2>The Artist</h2>
                <div class="artist-profile">
                    <div class="artist-image">
                        <img src="./images/chris-profile.jpg" alt="Chris Mod - Professional Tattoo Artist" class="profile-img">
                    </div>
                    <div class="artist-bio">
                        <h3>Chris Mod</h3>
                        <p>I'm Chris Mod, a passionate and highly skilled tattoo artist with a true love for the craft. My journey into the world of tattoos began years ago, and it's been an incredible experience ever since. I've dedicated myself to mastering the art of tattooing, ensuring that each piece I create is not just a tattoo, but a work of art that reflects my client's personality, vision, and individuality.</p>
                        <div class="specialties">
                            <h4>Specialties</h4>
                            <ul>
                                <li><i class="fas fa-star"></i> Custom Designs</li>
                                <li><i class="fas fa-star"></i> Black & Grey</li>
                                <li><i class="fas fa-star"></i> Color Realism</li>
                                <li><i class="fas fa-star"></i> Neo-Traditional</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="gallery" class="gallery">
            <div class="container">
                <h2>My Work</h2>
                <div class="gallery-grid">
                    <div class="gallery-item">
                        <img src="./images/IMG_6827.jpg" alt="Custom tattoo design showcasing detailed artistry" loading="lazy">
                        <div class="gallery-overlay">
                            <p>Custom Design</p>
                        </div>
                    </div>
                    <div class="gallery-item">
                        <img src="./images/IMG_6845.jpg" alt="Intricate tattoo artwork with fine details" loading="lazy">
                        <div class="gallery-overlay">
                            <p>Fine Detail Work</p>
                        </div>
                    </div>
                    <div class="gallery-item">
                        <img src="./images/IMG_6860 (1).jpg" alt="Unique tattoo design with personal meaning" loading="lazy">
                        <div class="gallery-overlay">
                            <p>Personal Design</p>
                        </div>
                    </div>
                    <div class="gallery-item">
                        <img src="./images/IMG_6970.jpg" alt="Beautiful custom tattoo artwork" loading="lazy">
                        <div class="gallery-overlay">
                            <p>Custom Artwork</p>
                        </div>
                    </div>
                    <div class="gallery-item">
                        <img src="./images/IMG_6974.jpg" alt="Stunning tattoo design showcasing artistic skill" loading="lazy">
                        <div class="gallery-overlay">
                            <p>Artistic Design</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="contact-section">
            <div class="contact-container">
                <h2 class="section-title">Get Inked</h2>
                <div class="contact-content">
                    <div class="contact-info">
                        <div class="contact-card phone">
                            <div class="card-inner">
                                <div class="icon-wrapper">
                                    <i class="fas fa-phone-alt"></i>
                                </div>
                                <div class="info-content">
                                    <h3>Call Now</h3>
                                    <a href="tel:+16515925122" class="contact-link" data-action="Tap to call">
                                        (651) 592-5122
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="contact-card address">
                            <div class="card-inner">
                                <div class="icon-wrapper">
                                    <i class="fas fa-map-marker-alt"></i>
                                </div>
                                <div class="info-content">
                                    <h3>Studio Location</h3>
                                    <a href="https://maps.google.com/?q=2395+7th+St+N,+Saint+Paul,+MN+55109" 
                                       target="_blank" 
                                       class="contact-link"
                                       data-action="Open in Maps">
                                        2395 7th St N<br>
                                        Saint Paul, MN 55109
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="contact-card email">
                            <div class="card-inner">
                                <div class="icon-wrapper">
                                    <i class="fas fa-envelope"></i>
                                </div>
                                <div class="info-content">
                                    <h3>Email</h3>
                                    <a href="mailto:senghakmad@gmail.com" 
                                       class="contact-link"
                                       data-action="Send Email">
                                        senghakmad@gmail.com
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="social-media">
                        <h3 class="social-title">Follow My Work</h3>
                        <div class="social-links">
                            <a href="https://instagram.com/inked_bychris" class="social-link instagram" target="_blank">
                                <i class="fab fa-instagram"></i>
                                <span>Instagram</span>
                                <small>@inked_bychris</small>
                            </a>
                            <a href="https://snapchat.com/add/sasuke_2k" class="social-link snapchat" target="_blank">
                                <i class="fab fa-snapchat-ghost"></i>
                                <span>Snapchat</span>
                                <small>@sasuke_2k</small>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="contact-background"></div>
        </section>

        <section id="book" class="booking">
            <div class="container">
                <h2 class="section-title">BOOK NOW</h2>
                <form id="bookingForm">
                    <h3>Personal Information</h3>
                    <div class="form-group">
                        <label for="client_first_name">First Name</label>
                        <input type="text" id="client_first_name" name="client_first_name" required>
                    </div>
                    <div class="form-group">
                        <label for="client_last_name">Last Name</label>
                        <input type="text" id="client_last_name" name="client_last_name" required>
                    </div>
                    <div class="form-group">
                        <label for="client_email">Email</label>
                        <input type="email" id="client_email" name="client_email" required>
                    </div>
                    <div class="form-group">
                        <label for="client_phone">Phone Number</label>
                        <input type="tel" id="client_phone" name="client_phone" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" required>
                        <small>Format: 123-456-7890</small>
                    </div>
                    <div class="form-group">
                        <label for="client_gender">Gender</label>
                        <select id="client_gender" name="client_gender" required>
                            <option value="">Select Gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                            <option value="prefer_not_to_say">Prefer not to say</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="client_birthdate">Birth Date</label>
                        <input type="date" id="client_birthdate" name="client_birthdate" required>
                        <small class="age-notice">You must be 18 or older to book an appointment</small>
                    </div>

                    <h3>Preferred Appointment</h3>
                    <div class="form-group">
                        <label for="preferred_date">Preferred Date</label>
                        <input type="date" id="preferred_date" name="preferred_date" required>
                    </div>
                    <div class="form-group">
                        <label for="preferred_time">Preferred Time</label>
                        <select id="preferred_time" name="preferred_time" required>
                            <option value="">Select Time</option>
                            <option value="10:00 AM">10:00 AM</option>
                            <option value="11:00 AM">11:00 AM</option>
                            <option value="12:00 PM">12:00 PM</option>
                            <option value="1:00 PM">1:00 PM</option>
                            <option value="2:00 PM">2:00 PM</option>
                            <option value="3:00 PM">3:00 PM</option>
                            <option value="4:00 PM">4:00 PM</option>
                            <option value="5:00 PM">5:00 PM</option>
                        </select>
                    </div>

                    <h3>Tattoo Details</h3>
                    <div class="form-group">
                        <label for="tattooType">Tattoo Type</label>
                        <select id="tattooType" name="tattooType" required>
                            <option value="">Select Type</option>
                            <option value="traditional">Traditional</option>
                            <option value="realism">Realism</option>
                            <option value="japanese">Japanese</option>
                            <option value="tribal">Tribal</option>
                            <option value="watercolor">Watercolor</option>
                            <option value="blackwork">Blackwork</option>
                            <option value="other">Other (Please describe below)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="tattooSize">Tattoo Size</label>
                        <select id="tattooSize" name="tattooSize" required>
                            <option value="">Select Size</option>
                            <option value="small">Small (2-3 inches)</option>
                            <option value="medium">Medium (4-6 inches)</option>
                            <option value="large">Large (7-10 inches)</option>
                            <option value="extra_large">Extra Large (11+ inches)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="tattooPlacement">Tattoo Placement</label>
                        <select id="tattooPlacement" name="tattooPlacement" required>
                            <option value="">Select Placement</option>
                            <option value="arm">Arm</option>
                            <option value="forearm">Forearm</option>
                            <option value="upper_arm">Upper Arm</option>
                            <option value="shoulder">Shoulder</option>
                            <option value="chest">Chest</option>
                            <option value="back">Back</option>
                            <option value="leg">Leg</option>
                            <option value="thigh">Thigh</option>
                            <option value="calf">Calf</option>
                            <option value="ankle">Ankle</option>
                            <option value="other">Other (Please specify in description)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="tattooDescription">Tattoo Description</label>
                        <textarea id="tattooDescription" name="tattooDescription" rows="4" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="colorPreference">Color Preference</label>
                        <select id="colorPreference" name="colorPreference" required>
                            <option value="">Select Preference</option>
                            <option value="color">Full Color</option>
                            <option value="black_and_grey">Black and Grey</option>
                            <option value="black_only">Black Only</option>
                            <option value="undecided">Undecided (Will discuss with artist)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="additionalNotes">Additional Notes (Optional)</label>
                        <textarea id="additionalNotes" name="additionalNotes" rows="3"></textarea>
                    </div>

                    <button type="submit">Book Appointment</button>
                </form>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-links">
                <a href="terms.html">Terms & Conditions</a>
                <a href="privacy.html">Privacy Policy</a>
                <a href="cancellation.html">Cancellation Policy</a>
            </div>
            <p>&copy; 2025 Inked by Chris. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Generate a unique booking ID
        function generateBookingId() {
            return 'BK' + Date.now().toString(36) + Math.random().toString(36).substr(2, 5);
        }

        // Age verification function
        function isOver18(birthDate) {
            const today = new Date();
            const birth = new Date(birthDate);
            let age = today.getFullYear() - birth.getFullYear();
            const monthDiff = today.getMonth() - birth.getMonth();
            
            if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birth.getDate())) {
                age--;
            }
            
            return age >= 18;
        }

        // Format date for display
        const formatDate = (dateStr) => {
            return new Date(dateStr).toLocaleDateString('en-US', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        };

        // Format gender for display
        const formatGender = (gender) => {
            const genderMap = {
                'male': 'Male',
                'female': 'Female',
                'other': 'Other',
                'prefer_not_to_say': 'Prefer not to say'
            };
            return genderMap[gender] || gender;
        };

        // Handle booking form submission
        document.getElementById('bookingForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            try {
                // Get form data
                const formData = new FormData(this);
                const bookingData = Object.fromEntries(formData.entries());
                
                // Add booking ID
                bookingData.bookingId = generateBookingId();
                
                // Validate age
                const birthDate = new Date(bookingData.client_birthdate);
                if (!isOver18(birthDate)) {
                    alert('You must be 18 or older to book an appointment.');
                    return;
                }

                // Format data for email
                const emailData = {
                    bookingId: bookingData.bookingId,
                    clientName: `${bookingData.client_first_name} ${bookingData.client_last_name}`,
                    clientEmail: bookingData.client_email,
                    clientPhone: bookingData.client_phone,
                    appointmentDate: formatDate(bookingData.preferred_date),
                    appointmentTime: bookingData.preferred_time,
                    tattooDescription: bookingData.tattooDescription,
                    tattooSize: bookingData.tattooSize,
                    tattooPlacement: bookingData.tattooPlacement,
                    gender: formatGender(bookingData.client_gender),
                    birthdate: formatDate(bookingData.client_birthdate),
                    additionalInfo: bookingData.additionalNotes || 'None provided'
                };

                // Send booking confirmation email
                const emailResponse = await fetch('/send-booking-email', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(emailData)
                });

                if (!emailResponse.ok) {
                    throw new Error('Failed to send email confirmation');
                }

                // Show success message and reset form
                alert('Booking request sent successfully! Please check your email for confirmation.');
                this.reset();
                window.location.href = '#home';
            } catch (error) {
                console.error('Error processing booking:', error);
                alert('There was an error processing your booking. Please try again or contact us directly.');
            }
        });

        // Format helpers
        function formatPhoneNumber(phone) {
            const cleaned = phone.toString().replace(/\D/g, '');
            const match = cleaned.match(/^(\d{3})(\d{3})(\d{4})$/);
            if (match) {
                return '(' + match[1] + ') ' + match[2] + '-' + match[3];
            }
            return phone;
        }
    </script>

    <script>
        // Initialize Flatpickr
        const datePicker = flatpickr("#preferred_date", {
            minDate: "today",
            dateFormat: "Y-m-d",
            disable: [
                function(date) {
                    // Disable Sundays and Mondays
                    return (date.getDay() === 0 || date.getDay() === 1);
                }
            ],
            locale: {
                firstDayOfWeek: 1 // Start week on Monday
            },
            disableMobile: false, // Enable custom calendar on mobile
            static: true,
            theme: "dark"
        });
    </script>

    <script>
        // Add phone number formatting
        document.getElementById('client_phone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, ''); // Remove all non-digits
            if (value.length >= 3 && value.length < 6) {
                value = value.slice(0,3) + '-' + value.slice(3);
            } else if (value.length >= 6) {
                value = value.slice(0,3) + '-' + value.slice(3,6) + '-' + value.slice(6,10);
            }
            e.target.value = value;
        });
    </script>

    <script src="script.js"></script>
    <script src="booking.js"></script>
</body>
</html>
